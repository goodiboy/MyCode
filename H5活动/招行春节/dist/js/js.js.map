{"version":3,"sources":["../../js/js.js"],"names":["window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","id","clearTimeout","$","on","label","data","_hmt","push","mySwiper","Swiper","direction","slidesPerView","spaceBetween","centeredSlides","initialSlide","init","click","fadeOut","hide","saveTimer","css","show","func_mask","index","Math","ceil","random","prop","$this","$qrCode","find","addClass","removeClass","e","stopPropagation","$downAppWrap","fadeIn","$space","$img","deg","timer","html","rot_img","arrBtn","i","append","each","item","transform","console","log","eq","audio","document","getElementById","hasClass","pause","play","location","href","$ruleBox","btnShow","rotate","startX","moveX","endX","moveDis","translateX","sTime","first","isLeft","isRight","isStop","addEventListener","startEvt","moveEvt","endEvt","changedTouches","pageX","Date","getTime","length","everyImg","removeEventListener","aotuplay","dis","imgArr","do_show","msg","remove","_sty","func_mask__sui","msg_html","msg_loading_style","_html","body","preventDefault","passive"],"mappings":"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","file":"js.js","sourcesContent":["window.requestAnimationFrame = (function () {\r\n    return window.requestAnimationFrame ||\r\n        window.webkitRequestAnimationFrame ||\r\n        window.mozRequestAnimationFrame ||\r\n        function (callback) {\r\n            window.setTimeout(callback, 17);\r\n        }\r\n})();\r\nwindow.cancelAnimationFrame = (function () {\r\n    return window.cancelAnimationFrame ||\r\n        window.webkitCancelAnimationFrame ||\r\n        window.mozCancelAnimationFrame ||\r\n        function (id) {\r\n            window.clearTimeout(id);\r\n        }\r\n})();\r\n\r\n\r\n$(function () {\r\n\r\n\r\n    /* 百度统计 */\r\n    $(\"[data-track]\").on(\"click\", function () {\r\n        var label = $(this).data(\"track\");\r\n        window._hmt && window._hmt.push(['_trackEvent', label, 'click']);\r\n    });\r\n\r\n    let mySwiper = new Swiper('.swiper-container', {\r\n        direction: 'vertical', // 垂直切换选项\r\n        slidesPerView: 3,\r\n        spaceBetween: '15%',\r\n        centeredSlides: true,\r\n        initialSlide: 1,\r\n        init: false\r\n    });\r\n\r\n    /* 游戏 */\r\n    (() => {\r\n        $('.btn-reset').click(function () {\r\n            $('.posterMask').fadeOut();\r\n            $('.save-tips').hide();\r\n            clearTimeout(saveTimer);\r\n            $('.btn-open').css('bottom','17.5%');\r\n            $('.more-gift').show();\r\n            $('.chou-tips').hide();\r\n        });\r\n\r\n        $('.btn-open').click(function () {\r\n            // 已经关注\r\n            if (true) {\r\n                func_mask(true);\r\n                let index = Math.ceil(Math.random() * 9);\r\n                $('#poster').prop('src', 'http://img.wx.xiao-bo.com/z/act/2018-101112/zh-cj/poster1/poster' + index + '.png?v2');\r\n                $('#poster').on('load', function () {\r\n                    func_mask(false);\r\n                    $('.posterMask').show();\r\n                });\r\n            } else {\r\n                $(\".subMask\").show();\r\n            }\r\n\r\n        });\r\n\r\n\r\n        /* 关闭关注二维码 */\r\n        $(\".page_affirm\").click(function () {\r\n            let $this = $(this);\r\n            let $qrCode = $(this).find(\".qr_code\").addClass('dOut');\r\n            setTimeout(function () {\r\n                $this.hide();\r\n                $qrCode.removeClass('dOut');\r\n            }, 600)\r\n        });\r\n\r\n        $(\".qr_code\").click(function (e) {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        $('.close-downMask').click(function () {\r\n            $('.immediately').hide();\r\n            let $downAppWrap = $('.downApp-wrap').addClass('zoomOut');\r\n            setTimeout(function () {\r\n                $('.downMask').hide();\r\n                $downAppWrap.removeClass('zoomOut');\r\n            }, 600)\r\n        });\r\n\r\n        let saveTimer = null;\r\n        $('.circle-chou').click(function () {\r\n            clearTimeout(saveTimer);\r\n            $('.save-tips').fadeIn();\r\n            saveTimer = setTimeout(function () {\r\n                $('.save-tips,.circle-chou').hide();\r\n                // $('.downMask').show();\r\n                // setTimeout(function(){\r\n                $('.immediately').fadeIn();\r\n                // },600);\r\n\r\n            }, 3000)\r\n        });\r\n\r\n    })();\r\n\r\n\r\n    /*全局变量*/\r\n    const $space = $('#space');\r\n    let $img;\r\n    let deg = 15;\r\n    let timer = null;\r\n    /*初始化跑马灯图片*/\r\n    (() => {\r\n        let html = '';\r\n        let rot_img = '';\r\n        let arrBtn = ['点击了挥春', '点击了花鸟字', '点击了中国结', '点击了剪纸', '点击了糖画'];\r\n        for (let i = 2; i < 19; i++) {\r\n            if (i == 3 || i == 6 || i == 9 || i == 12 || i == 15) {\r\n                rot_img = `<div class=\"img_cover\" style=\"background: url('http://img.wx.xiao-bo.com/z/act/2018-101112/zh-cj/${i}.png?v9') no-repeat 0 0 / 100% 100%;pointer-events: auto\" >\r\n                            <img src=\"http://img.wx.xiao-bo.com/z/act/2018-101112/zh-cj/btn-more.png?v9\" class=\"btn-more\" data-track=\"${arrBtn[(i / 3) - 1]}\" alt=\"\">\r\n                            <img src=\"http://img.wx.xiao-bo.com/z/act/2018-101112/zh-cj/hand.png?v9\" class=\"hand\" alt=\"\">\r\n                        </div>`\r\n            } else {\r\n                rot_img = `<div class=\"img_cover\" style=\"background: url('http://img.wx.xiao-bo.com/z/act/2018-101112/zh-cj/${i}.png?v9') no-repeat 0 0 / 100% 100%;pointer-events: auto\" ></div>`;\r\n            }\r\n            html += '            <div class=\"img_cover frame_01\"></div>\\n' +\r\n                '            <div class=\"img_cover frame_02\"></div>\\n' +\r\n                '            <div class=\"img_cover frame_04\"></div>\\n' +\r\n                '            <div class=\"img_cover frame_02\"></div>\\n' +\r\n                rot_img +\r\n                '            <div class=\"img_cover frame_01\"></div>\\n' +\r\n                '            <div class=\"img_cover frame_02\"></div>\\n' +\r\n                '            <div class=\"img_cover frame_05\"></div>'\r\n        }\r\n        $space.append(html);\r\n        $img = $('.img_cover');\r\n        $.each($img, function (i, item) {\r\n            $(item).css({\r\n                transform: `rotateY(${-i * deg}deg)`,\r\n            });\r\n            if (i > 8) {\r\n                $(item).hide();\r\n            }\r\n        });\r\n    })();\r\n\r\n    /* 进入游戏前的事件集合 */\r\n    (() => {\r\n        let index = 0;\r\n        $('.btn-more').click(function () {\r\n            index = $(this).index('.btn-more');\r\n            console.log(index);\r\n            $('.introMask').show();\r\n            $('.intor').eq(index).show().removeClass('bounceOutDown').addClass('bounceIn');\r\n            setTimeout(function () {\r\n                $('.introMask .btn').fadeIn();\r\n            }, 100);\r\n        });\r\n\r\n\r\n        $('.btn-back').click(function(){\r\n            $('.rotate-wrap').show();\r\n            $('.game-wrap').fadeOut();\r\n\r\n\r\n        });\r\n\r\n        $('.introBtnContinue').click(function () {\r\n            $('.introMask .btn').fadeOut();\r\n            $('.intor').eq(index).removeClass('bounceIn').addClass('bounceOutDown');\r\n\r\n            setTimeout(function () {\r\n                $('.introMask').hide();\r\n                $('.intor').eq(index).hide();\r\n            }, 800);\r\n            // $(this).parent()\r\n        });\r\n\r\n        $('.fu-btn-wrap').click(function () {\r\n            $('.fu').removeClass('rotateFu').addClass('rotateFu2');\r\n            $(\".m_ele\").click();\r\n            setTimeout(function () {\r\n                $('.index-cover').fadeOut(1000);\r\n                $('.m_ele').show();\r\n            }, 800);\r\n        });\r\n\r\n        // 音乐\r\n        let audio = document.getElementById('audio');\r\n        $(\".m_ele\").click(function () {\r\n            if ($(\".music\").hasClass(\"m_active\")) {\r\n                $(\".music\").removeClass(\"m_active\");\r\n                audio.pause();\r\n                $(\".music_bg\").hide();\r\n            } else {\r\n                $(\".music\").addClass(\"m_active\");\r\n                audio.play();\r\n                $(\".music_bg\").show();\r\n            }\r\n        });\r\n\r\n        // 进入游戏\r\n        $('.go-game,.introBtnGame').click(function () {\r\n            cancelAnimationFrame(timer);\r\n            // $('.introMask').hide();\r\n            // $('.game-wrap').show();\r\n            // $('.rotate-wrap').fadeOut();\r\n            // audio.pause();\r\n            // // $(\".m_ele\").click();\r\n            // $('.m_ele').hide();\r\n            // mySwiper.forEach((item, index) => item.init())\r\n            window.location.href = 'https://t.cmbchina.com/2ieEJf?act=spring';\r\n        });\r\n\r\n        $('.btn-rule').click(function () {\r\n            $('.rule-mask').show();\r\n        });\r\n        /* 关闭规则 */\r\n        $('.close-rule').click(function () {\r\n            let $ruleBox = $('.rule-box').addClass('zoomOut');\r\n            setTimeout(function () {\r\n                $('.rule-mask').hide();\r\n                $ruleBox.removeClass('zoomOut');\r\n\r\n            }, 600)\r\n        });\r\n    })();\r\n\r\n    /* 跑马灯效果 */\r\n    (() => {\r\n        let btnShow = false;\r\n        (function rotate() {\r\n            let startX = 0, moveX = 0, endX = 0, moveDis = 0, translateX = 0, sTime = 0, first = true;\r\n            let isLeft = false, isRight = false, isStop = true;\r\n            $space[0].addEventListener('touchstart', startEvt);\r\n            $space[0].addEventListener('mousedown', startEvt);\r\n            $space[0].addEventListener('touchmove', moveEvt);\r\n            $space[0].addEventListener('touchend', endEvt);\r\n\r\n            function startEvt(e) {\r\n\r\n                if (e.changedTouches) {\r\n                    startX = e.changedTouches[0].pageX;\r\n                } else {\r\n                    startX = e.pageX;\r\n\r\n                    $space[0].addEventListener('mousemove', moveEvt);\r\n                    document.addEventListener('mouseup', endEvt);\r\n                }\r\n\r\n                translateX = moveDis;\r\n                sTime = new Date().getTime();\r\n\r\n            }\r\n\r\n            function moveEvt(e) {\r\n                isRight = false;\r\n                isStop = true;\r\n                isLeft = false;\r\n                if (e.changedTouches) {\r\n                    moveX = e.changedTouches[0].pageX;\r\n                } else {\r\n                    moveX = e.pageX;\r\n                }\r\n                moveDis = (moveX - startX) * .15 + translateX;\r\n\r\n                if (moveDis < 0) {\r\n                    moveDis = 0;\r\n                }\r\n                if (moveDis >= ($img.length - 4) * deg) {\r\n                    moveDis = ($img.length - 4) * deg;\r\n                }\r\n\r\n                if (first) {\r\n                    first = false;\r\n                    $('.guidance').fadeOut();\r\n                }\r\n\r\n                everyImg(moveDis);\r\n            }\r\n\r\n            function endEvt(e) {\r\n                if (e.changedTouches) {\r\n                    endX = e.changedTouches[0].pageX;\r\n                } else {\r\n                    $space[0].removeEventListener('mousemove', moveEvt);\r\n                    document.removeEventListener('mouseup', endEvt);\r\n                    endX = e.pageX;\r\n                }\r\n                cancelAnimationFrame(timer);\r\n\r\n                if (endX - startX > 5) {\r\n                    isRight = true;\r\n                    isStop = false;\r\n                    isLeft = false;\r\n                    aotuplay();\r\n                } else if (endX - startX < -5) {\r\n                    isRight = false;\r\n                    isStop = false;\r\n                    isLeft = true;\r\n                    aotuplay();\r\n                } else {\r\n                    isRight = false;\r\n                    isStop = true;\r\n                    isLeft = false;\r\n\r\n                }\r\n            }\r\n\r\n\r\n            function aotuplay() {\r\n                if (isRight) {\r\n                    moveDis += 0.45;\r\n                } else if (isLeft) {\r\n                    moveDis -= 0.45;\r\n                }\r\n\r\n                if (moveDis < 0) {\r\n                    moveDis = 0;\r\n                }\r\n\r\n                if (moveDis >= ($img.length - 4) * deg) {\r\n                    moveDis = ($img.length - 4) * deg;\r\n                }\r\n                everyImg(moveDis);\r\n                timer = requestAnimationFrame(aotuplay);\r\n            }\r\n        })()\r\n\r\n\r\n        function everyImg(dis) {\r\n            // console.log(dis)\r\n            if (dis >= 200 && !btnShow) {\r\n                btnShow = true;\r\n                $('.go-game').fadeIn();\r\n            }\r\n            let imgArr = [];\r\n            $.each($img, function (i, item) {\r\n                imgArr[i] = dis - i * deg;\r\n                if (imgArr[i] > 89 || imgArr[i] < -120) {\r\n                    $(this).hide();\r\n                }\r\n\r\n                if (imgArr[i] >= -120 && imgArr[i] < 90) {\r\n                    $(this).show();\r\n                    $(item).css({\r\n                        transform: `rotateY(${dis - i * deg}deg)`,\r\n                    });\r\n                }\r\n                if (dis >= ($img.length - 1) * 60 && imgArr[i] < 60) {\r\n\r\n                }\r\n            });\r\n        }\r\n    })()\r\n\r\n});\r\n\r\n/* 加载 */\r\nfunction func_mask(do_show, msg) {\r\n    $(\".page_weui_loading_toast\").remove();\r\n    $(\".ex-dimmer\").remove();\r\n\r\n    if (!$(\"body\").hasClass('style')) {\r\n        let _sty = '<style>.page_loading{position:fixed;top:0;left:0;right:0;bottom:0;z-index:5000;font-size:15px}.page_loading,.page_weui-toast.loading{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center}.page_weui-loading_box{-webkit-flex-direction:column;flex-direction:column}.page_weui-toast.loading{width:120px;min-height:120px;text-align:center;border-radius:5px;color:#fff;background:rgba(17,17,17,0.7)}.page_weui-loading{width:38px;height:38px;display:inline-block;vertical-align:middle;-webkit-animation:weuiLoading 1s steps(12,end) infinite;animation:weuiLoading 1s steps(12,end) infinite;background:transparent url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4=) no-repeat;background-size:100%;vertical-align:baseline}.page_weui_loading_toast.page_loading .page_weui_toast__content{margin:0;margin-top:5px;}.page_weui_loading_toast.page_loading .page_weui-loading{margin:0}@-webkit-keyframes weuiLoading{0%{-webkit-transform:rotate3d(0,0,1,0deg);transform:rotate3d(0,0,1,0deg)}100%{-webkit-transform:rotate3d(0,0,1,360deg);transform:rotate3d(0,0,1,360deg)}}@keyframes weuiLoading{0%{-webkit-transform:rotate3d(0,0,1,0deg);transform:rotate3d(0,0,1,0deg)}100%{-webkit-transform:rotate3d(0,0,1,360deg);transform:rotate3d(0,0,1,360deg)}}</style>';\r\n        $(\"body\").append(_sty).addClass('style');\r\n    }\r\n\r\n\r\n    if ($('body').css('animation-name') == 'seui') {\r\n        func_mask__sui(do_show, msg);\r\n        return;\r\n    }\r\n\r\n\r\n    if (do_show) {\r\n        let msg_html = '<p class=\"page_weui_toast__content\">加载中</p>';\r\n        let msg_loading_style = '';\r\n        if (msg) {\r\n            msg_html = '<p class=\"page_weui_toast__content\">' + msg + '</p>';\r\n        }\r\n\r\n        let _html = '<div class=\"page_weui_loading_toast page_loading\">' +\r\n            '<div class=\"page_weui-toast loading\">' +\r\n            '<div class=\"page_weui-loading_box\">' +\r\n            '<i class=\"page_weui-loading\"></i>' +\r\n            msg_html +\r\n            '</div>' +\r\n            '</div>' +\r\n            '</div>';\r\n        $(\"body\").append(_html);\r\n\r\n    }\r\n}\r\n\r\ndocument.body.addEventListener('touchmove', function (e) {\r\n    e.preventDefault(); //阻止默认的处理方式(阻止下拉滑动的效果)\r\n}, {passive: false}); //passive 参数不能省略，用来兼容ios和android\r\n\r\n"]}